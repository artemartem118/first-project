{"version":3,"sources":["components/Friends/Friends.module.css","components/Common/Paginator/Paginator.module.css","../node_modules/classnames/index.js","components/Common/Paginator/Paginator.tsx","components/Friends/Friend.tsx","components/Friends/Friends.tsx","redux/selectors/users-selector.ts","components/Friends/FriendsContainer.tsx"],"names":["module","exports","hasOwn","hasOwnProperty","classNames","classes","i","arguments","length","arg","argType","push","Array","isArray","inner","apply","key","call","join","default","Paginator","portionSize","totalItems","pageSize","currentPage","onPageClick","pageCount","Math","ceil","pages","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","className","wrapperPaginator","onClick","filter","p","map","cn","activePage","Friend","user","props","wrapperUser","wrapperAVA","ava","to","id","img","src","photos","small","withPhoto","name","followed","disabled","followingInProgress","some","unfollow","follow","wrapperDiscription","status","Friends","totalUsers","isFetching","users","wrapperUsers","Preloader","getUsersFromState","state","friendsPage","getPageSizeFromState","getTotalUsersFromState","getCurrentPageFromState","getIsFetchingFromState","getFollowingInProgressFromState","FriendsContainer","pageNum","getUsers","this","React","Component","compose","connect"],"mappings":"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","file":"static/js/3.65cc297f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapperUsers\":\"Friends_wrapperUsers__1NNih\",\"wrapperUser\":\"Friends_wrapperUser__3oU9t\",\"wrapperAVA\":\"Friends_wrapperAVA__AhCJ3\",\"wrapperDiscription\":\"Friends_wrapperDiscription__3ECR3\",\"img\":\"Friends_img__13QSL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapperPaginator\":\"Paginator_wrapperPaginator__2nDoB\",\"activePage\":\"Paginator_activePage__1GdVO\"};","/*!\n  Copyright (c) 2017 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg) && arg.length) {\n\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\tif (inner) {\n\t\t\t\t\tclasses.push(inner);\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","import classes from './Paginator.module.css'\r\nimport React, {useState} from 'react'\r\nimport cn from 'classnames'\r\n\r\ntype Props = {\r\n    portionSize?: number\r\n    totalItems: number\r\n    pageSize: number\r\n    currentPage: number\r\n    onPageClick: (p: number) => void\r\n}\r\n\r\n\r\nconst Paginator: React.FC<Props> = ({portionSize = 5, totalItems, pageSize, currentPage, onPageClick}) => {\r\n\r\n    let pageCount = Math.ceil(totalItems / pageSize)\r\n    const pages = []\r\n    for (let i = 1; i <= pageCount; i++) {\r\n        pages.push(i)\r\n    }\r\n\r\n    const portionCount = Math.ceil(pageCount / portionSize)\r\n    const [portionNumber, setPortionNumber] = useState(1)\r\n    const leftPortionPageNumber = (portionNumber - 1) * portionSize + 1\r\n    const rightPortionPageNumber = portionNumber * portionSize\r\n\r\n\r\n    return <div className={classes.wrapperPaginator}>\r\n        {portionNumber > 1 && <button onClick={() => setPortionNumber(portionNumber - 1)}>PREV</button>}\r\n        {\r\n            pages\r\n                .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n                .map(p => {\r\n                    return <span key={p} className={cn({\r\n                        [classes.activePage]: currentPage === p\r\n                    })} onClick={() => {\r\n                        onPageClick(p)\r\n                    }}>{p}</span>\r\n                })\r\n        }\r\n        {portionCount > portionNumber && <button onClick={() => setPortionNumber(portionNumber + 1)}>PREV</button>}\r\n    </div>\r\n}\r\nexport default Paginator","import React from 'react'\r\nimport classes from './Friends.module.css'\r\nimport {NavLink} from 'react-router-dom'\r\nimport withPhoto from './../../assets/unnamed.jpg'\r\nimport {UserType} from '../../types/types'\r\n\r\ntype Props = {\r\n    user: UserType\r\n    followingInProgress: Array<number>\r\n    unfollow: (userId: number) => void\r\n    follow: (userId: number) => void\r\n}\r\n\r\nconst Friend = ({user, ...props}: Props) => {\r\n    return (\r\n        <div className={classes.wrapperUser}>\r\n            <div className={classes.wrapperAVA}>\r\n                <div className={classes.ava}>\r\n                    <NavLink to={`/profile/${user.id}`}>\r\n                        <img className={classes.img} src={user.photos.small || withPhoto}/>\r\n                    </NavLink>\r\n                    <div>{user.name}</div>\r\n                </div>\r\n                {\r\n                    user.followed\r\n                        ? <button\r\n                            disabled={props.followingInProgress.some(id => id === user.id)}\r\n                            onClick={() => {\r\n                                props.unfollow(user.id)\r\n                            }}>UNFOLLOW</button>\r\n                        : <button\r\n                            disabled={props.followingInProgress.some(id => id === user.id)}\r\n                            onClick={() => {\r\n                                props.follow(user.id)\r\n                            }}>FOLLOW</button>\r\n                }\r\n            </div>\r\n            <div className={classes.wrapperDiscription}>\r\n                <div className={classes.status}><b>Status:</b> {user.status}</div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default Friend\r\n","import React from 'react'\r\nimport classes from './Friends.module.css'\r\nimport Paginator from '../Common/Paginator/Paginator'\r\nimport Friend from './Friend'\r\nimport Preloader from '../Common/Preloader/Preloader'\r\nimport {UserType} from '../../types/types'\r\n\r\ntype Props = {\r\n    totalUsers: number\r\n    pageSize: number\r\n    currentPage: number\r\n    isFetching: boolean\r\n    users: Array<UserType>\r\n    followingInProgress: Array<number>\r\n\r\n    onPageClick: (pageNum: number) => void\r\n    unfollow: (userId: number) => void\r\n    follow: (userId: number) => void\r\n}\r\n\r\nconst Friends: React.FC<Props> = ({totalUsers, pageSize, currentPage, onPageClick, isFetching, users, unfollow, follow, followingInProgress}) => {\r\n    return (\r\n        <div className={classes.wrapperUsers}>\r\n            <Paginator totalItems={totalUsers} pageSize={pageSize} currentPage={currentPage}\r\n                       onPageClick={onPageClick}/>\r\n            {isFetching ? <Preloader/> :\r\n                users.map(user => <Friend unfollow={unfollow}\r\n                                          follow={follow}\r\n                                          followingInProgress={followingInProgress}\r\n                                          user={user}\r\n                                          key={user.id}/>)\r\n            }\r\n        </div>\r\n    )\r\n}\r\nexport default Friends\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import {AppState} from '../redux-store'\r\n\r\nexport const getUsersFromState = (state: AppState) => (state.friendsPage.users)\r\n\r\nexport const getPageSizeFromState = (state: AppState) => (state.friendsPage.pageSize)\r\n\r\nexport const getTotalUsersFromState = (state: AppState) => (state.friendsPage.totalUsers)\r\n\r\nexport const getCurrentPageFromState = (state: AppState) => (state.friendsPage.currentPage)\r\n\r\nexport const getIsFetchingFromState = (state: AppState) => (state.friendsPage.isFetching)\r\n\r\nexport const getFollowingInProgressFromState = (state: AppState) => (state.friendsPage.followingInProgress)\r\n","import React from 'react'\r\nimport {connect} from 'react-redux'\r\nimport Friends from './Friends'\r\nimport {follow, getUsers, unfollow} from '../../redux/friendsPage-reducer'\r\nimport {compose} from 'redux'\r\nimport {\r\n    getCurrentPageFromState,\r\n    getFollowingInProgressFromState,\r\n    getIsFetchingFromState,\r\n    getPageSizeFromState,\r\n    getTotalUsersFromState,\r\n    getUsersFromState\r\n} from '../../redux/selectors/users-selector'\r\nimport {UserType} from '../../types/types'\r\nimport {AppState} from '../../redux/redux-store'\r\n\r\ntype MapStateProps = {\r\n    users: Array<UserType>\r\n    totalUsers: number\r\n    pageSize: number\r\n    currentPage: number\r\n    isFetching: boolean\r\n    followingInProgress: Array<number>\r\n}\r\n\r\ntype MapDispatchProps = {\r\n    follow: (userId: number) => void\r\n    unfollow: (userId: number) => void\r\n    getUsers: (pageSize: number, currentPage: number) => void\r\n}\r\n\r\ntype Props = MapStateProps & MapDispatchProps\r\n\r\nclass FriendsContainer extends React.Component<Props> {\r\n\r\n    componentDidMount() {\r\n        this.props.getUsers(this.props.pageSize, this.props.currentPage)\r\n    }\r\n\r\n    onPageClick = (pageNum: number) => {\r\n        this.props.getUsers(this.props.pageSize, pageNum)\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                {<Friends\r\n                    totalUsers={this.props.totalUsers}\r\n                    pageSize={this.props.pageSize}\r\n                    users={this.props.users}\r\n                    currentPage={this.props.currentPage}\r\n                    unfollow={this.props.unfollow}\r\n                    follow={this.props.follow}\r\n                    isFetching={this.props.isFetching}\r\n                    onPageClick={this.onPageClick}\r\n                    followingInProgress={this.props.followingInProgress}/>}\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state: AppState): MapStateProps => {\r\n    return {\r\n        users: getUsersFromState(state),\r\n        pageSize: getPageSizeFromState(state),\r\n        totalUsers: getTotalUsersFromState(state),\r\n        currentPage: getCurrentPageFromState(state),\r\n        isFetching: getIsFetchingFromState(state),\r\n        followingInProgress: getFollowingInProgressFromState(state)\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect<MapStateProps, MapDispatchProps, null, AppState>(mapStateToProps, {getUsers, follow, unfollow})\r\n)(FriendsContainer)"],"sourceRoot":""}