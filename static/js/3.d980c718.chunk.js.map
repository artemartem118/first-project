{"version":3,"sources":["components/Common/Paginator/Paginator.tsx","components/Friends/Friend.tsx","components/Friends/Friends.tsx","redux/selectors/users-selector.ts","components/Friends/FriendsContainer.tsx","components/Friends/Friends.module.css","components/Common/Paginator/Paginator.module.css","../node_modules/classnames/index.js"],"names":["Paginator","portionSize","totalItems","pageSize","currentPage","onPageClick","pageCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","className","classes","wrapperPaginator","Button","buttonName","handler","filter","p","map","key","cn","activePage","onClick","Friend","user","props","wrapperUser","wrapperAVA","ava","to","id","img","src","photos","small","withPhoto","name","followed","btnFriend","disabled","followingInProgress","some","unfollow","follow","wrapperDiscription","status","Friends","totalUsers","isFetching","users","wrapperUsers","Preloader","getUsersFromState","state","friendsPage","getPageSizeFromState","getTotalUsersFromState","getCurrentPageFromState","getIsFetchingFromState","getFollowingInProgressFromState","FriendsContainer","pageNum","getUsers","this","React","Component","compose","connect","module","exports","hasOwn","hasOwnProperty","classNames","arguments","length","arg","argType","Array","isArray","inner","apply","call","join","default"],"mappings":"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","file":"static/js/3.d980c718.chunk.js","sourcesContent":["import classes from './Paginator.module.css'\nimport React, {useState} from 'react'\nimport cn from 'classnames'\nimport Button from './../button/Button'\n\ntype Props = {\n    portionSize?: number\n    totalItems: number\n    pageSize: number\n    currentPage: number\n    onPageClick: (p: number) => void\n}\n\n\nconst Paginator: React.FC<Props> = ({portionSize = 5, totalItems, pageSize, currentPage, onPageClick}) => {\n\n    let pageCount = Math.ceil(totalItems / pageSize)\n    const pages = []\n    for (let i = 1; i <= pageCount; i++) {\n        pages.push(i)\n    }\n\n    const portionCount = Math.ceil(pageCount / portionSize)\n    const [portionNumber, setPortionNumber] = useState(1)\n    const leftPortionPageNumber = (portionNumber - 1) * portionSize + 1\n    const rightPortionPageNumber = portionNumber * portionSize\n\n\n    return <div className={classes.wrapperPaginator}>\n        {portionNumber > 1 &&  <Button buttonName={'PREV'} handler={() => setPortionNumber(portionNumber - 1)} />}\n        {\n            pages\n                .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\n                .map(p => {\n                    return <span key={p} className={cn({\n                        [classes.activePage]: currentPage === p\n                    })} onClick={() => {\n                        onPageClick(p)\n                    }}>{p}</span>\n                })\n        }\n        {portionCount > portionNumber && <Button buttonName={'NEXT'} handler={() => setPortionNumber(portionNumber + 1)} />}\n    </div>\n}      \nexport default Paginator","import React from 'react'\nimport classes from './Friends.module.css'\nimport {NavLink} from 'react-router-dom'\nimport withPhoto from './../../assets/unnamed.jpg'\nimport {UserType} from '../../types/types'\n\ntype Props = {\n    user: UserType\n    followingInProgress: Array<number>\n    unfollow: (userId: number) => void\n    follow: (userId: number) => void\n}\n\nconst Friend = ({user, ...props}: Props) => {\n    return (\n        <div className={classes.wrapperUser}>\n            <div className={classes.wrapperAVA}>\n                <div className={classes.ava}>\n                    <NavLink to={`/profile/${user.id}`}>\n                        <img className={classes.img} src={user.photos.small || withPhoto}/>\n                    </NavLink>\n                    <div>{user.name}</div>\n                </div>\n                {\n                    user.followed\n                        ? <button\n                            className={classes.btnFriend}\n                            disabled={props.followingInProgress.some(id => id === user.id)}\n                            onClick={() => {\n                                props.unfollow(user.id)\n                            }}>UNFOLLOW</button>\n                        : <button\n                            className={classes.btnFriend}\n                            disabled={props.followingInProgress.some(id => id === user.id)}\n                            onClick={() => {\n                                props.follow(user.id)\n                            }}>FOLLOW</button>\n                }\n            </div>\n            <div className={classes.wrapperDiscription}>\n                <div className={classes.status}><b>Status:</b> {user.status}</div>\n            </div>\n        </div>\n    )\n}\nexport default Friend\n","import React from 'react'\nimport classes from './Friends.module.css'\nimport Paginator from '../Common/Paginator/Paginator'\nimport Friend from './Friend'\nimport Preloader from '../Common/Preloader/Preloader'\nimport {UserType} from '../../types/types'\n\ntype Props = {\n    totalUsers: number\n    pageSize: number\n    currentPage: number\n    isFetching: boolean\n    users: Array<UserType>\n    followingInProgress: Array<number>\n\n    onPageClick: (pageNum: number) => void\n    unfollow: (userId: number) => void\n    follow: (userId: number) => void\n}\n\nconst Friends: React.FC<Props> = ({totalUsers, pageSize, currentPage, onPageClick, isFetching, users, unfollow, follow, followingInProgress}) => {\n    return (\n        <div className={classes.wrapperUsers}>\n            <Paginator totalItems={totalUsers} pageSize={pageSize} currentPage={currentPage}\n                       onPageClick={onPageClick}/>\n            {isFetching ? <Preloader/> :\n                users.map(user => <Friend unfollow={unfollow}\n                                          follow={follow}\n                                          followingInProgress={followingInProgress}\n                                          user={user}\n                                          key={user.id}/>)\n            }\n        </div>\n    )\n}\nexport default Friends\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","import {AppState} from '../redux-store'\n\nexport const getUsersFromState = (state: AppState) => (state.friendsPage.users)\n\nexport const getPageSizeFromState = (state: AppState) => (state.friendsPage.pageSize)\n\nexport const getTotalUsersFromState = (state: AppState) => (state.friendsPage.totalUsers)\n\nexport const getCurrentPageFromState = (state: AppState) => (state.friendsPage.currentPage)\n\nexport const getIsFetchingFromState = (state: AppState) => (state.friendsPage.isFetching)\n\nexport const getFollowingInProgressFromState = (state: AppState) => (state.friendsPage.followingInProgress)\n","import React from 'react'\nimport {connect} from 'react-redux'\nimport Friends from './Friends'\nimport {follow, getUsers, unfollow} from '../../redux/friendsPage-reducer'\nimport {compose} from 'redux'\nimport {\n    getCurrentPageFromState,\n    getFollowingInProgressFromState,\n    getIsFetchingFromState,\n    getPageSizeFromState,\n    getTotalUsersFromState,\n    getUsersFromState\n} from '../../redux/selectors/users-selector'\nimport {UserType} from '../../types/types'\nimport {AppState} from '../../redux/redux-store'\n\ntype MapStateProps = {\n    users: Array<UserType>\n    totalUsers: number\n    pageSize: number\n    currentPage: number\n    isFetching: boolean\n    followingInProgress: Array<number>\n}\n\ntype MapDispatchProps = {\n    follow: (userId: number) => void\n    unfollow: (userId: number) => void\n    getUsers: (pageSize: number, currentPage: number) => void\n}\n\ntype Props = MapStateProps & MapDispatchProps\n\nclass FriendsContainer extends React.Component<Props> {\n\n    componentDidMount() {\n        this.props.getUsers(this.props.pageSize, this.props.currentPage)\n    }\n\n    onPageClick = (pageNum: number) => {\n        this.props.getUsers(this.props.pageSize, pageNum)\n    }\n\n    render() {\n        return (\n            <>\n                {<Friends\n                    totalUsers={this.props.totalUsers}\n                    pageSize={this.props.pageSize}\n                    users={this.props.users}\n                    currentPage={this.props.currentPage}\n                    unfollow={this.props.unfollow}\n                    follow={this.props.follow}\n                    isFetching={this.props.isFetching}\n                    onPageClick={this.onPageClick}\n                    followingInProgress={this.props.followingInProgress}/>}\n            </>\n        )\n    }\n}\n\nconst mapStateToProps = (state: AppState): MapStateProps => {\n    return {\n        users: getUsersFromState(state),\n        pageSize: getPageSizeFromState(state),\n        totalUsers: getTotalUsersFromState(state),\n        currentPage: getCurrentPageFromState(state),\n        isFetching: getIsFetchingFromState(state),\n        followingInProgress: getFollowingInProgressFromState(state)\n    }\n}\n\nexport default compose(\n    connect<MapStateProps, MapDispatchProps, null, AppState>(mapStateToProps, {getUsers, follow, unfollow})\n)(FriendsContainer)","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapperUsers\":\"Friends_wrapperUsers__1csER\",\"btnFriend\":\"Friends_btnFriend__3m2fu\",\"wrapperUser\":\"Friends_wrapperUser__2fByk\",\"wrapperAVA\":\"Friends_wrapperAVA__3kNVS\",\"wrapperDiscription\":\"Friends_wrapperDiscription__1hTVk\",\"img\":\"Friends_img__2IpCS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapperPaginator\":\"Paginator_wrapperPaginator__hgUiy\",\"activePage\":\"Paginator_activePage__j4dMX\"};","/*!\n  Copyright (c) 2017 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg) && arg.length) {\n\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\tif (inner) {\n\t\t\t\t\tclasses.push(inner);\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n"],"sourceRoot":""}