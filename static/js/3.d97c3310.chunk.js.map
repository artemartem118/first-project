{"version":3,"sources":["components/Friends/Friends.module.css","components/Common/Paginator/Paginator.module.css","../node_modules/classnames/index.js","components/Common/Paginator/Paginator.tsx","components/Friends/Friend.tsx","components/Friends/Friends.tsx","redux/selectors/users-selector.ts","components/Friends/FriendsContainer.tsx"],"names":["module","exports","hasOwn","hasOwnProperty","classNames","classes","i","arguments","length","arg","argType","push","Array","isArray","inner","apply","key","call","join","default","Paginator","portionSize","totalItems","pageSize","currentPage","onPageClick","pageCount","Math","ceil","pages","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","className","wrapperPaginator","onClick","filter","p","map","cn","activePage","Friend","user","props","wrapperUser","wrapperAVA","ava","to","id","img","src","photos","small","withPhoto","name","followed","btnFriend","disabled","followingInProgress","some","unfollow","follow","wrapperDiscription","status","Friends","totalUsers","isFetching","users","wrapperUsers","Preloader","getUsersFromState","state","friendsPage","getPageSizeFromState","getTotalUsersFromState","getCurrentPageFromState","getIsFetchingFromState","getFollowingInProgressFromState","FriendsContainer","pageNum","getUsers","this","React","Component","compose","connect"],"mappings":"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","file":"static/js/3.d97c3310.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapperUsers\":\"Friends_wrapperUsers__1csER\",\"btnFriend\":\"Friends_btnFriend__3m2fu\",\"wrapperUser\":\"Friends_wrapperUser__2fByk\",\"wrapperAVA\":\"Friends_wrapperAVA__3kNVS\",\"wrapperDiscription\":\"Friends_wrapperDiscription__1hTVk\",\"img\":\"Friends_img__2IpCS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapperPaginator\":\"Paginator_wrapperPaginator__hgUiy\",\"activePage\":\"Paginator_activePage__j4dMX\"};","/*!\n  Copyright (c) 2017 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg) && arg.length) {\n\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\tif (inner) {\n\t\t\t\t\tclasses.push(inner);\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","import classes from './Paginator.module.css'\nimport React, {useState} from 'react'\nimport cn from 'classnames'\n\ntype Props = {\n    portionSize?: number\n    totalItems: number\n    pageSize: number\n    currentPage: number\n    onPageClick: (p: number) => void\n}\n\n\nconst Paginator: React.FC<Props> = ({portionSize = 5, totalItems, pageSize, currentPage, onPageClick}) => {\n\n    let pageCount = Math.ceil(totalItems / pageSize)\n    const pages = []\n    for (let i = 1; i <= pageCount; i++) {\n        pages.push(i)\n    }\n\n    const portionCount = Math.ceil(pageCount / portionSize)\n    const [portionNumber, setPortionNumber] = useState(1)\n    const leftPortionPageNumber = (portionNumber - 1) * portionSize + 1\n    const rightPortionPageNumber = portionNumber * portionSize\n\n\n    return <div className={classes.wrapperPaginator}>\n        {portionNumber > 1 && <button onClick={() => setPortionNumber(portionNumber - 1)}>PREV</button>}\n        {\n            pages\n                .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\n                .map(p => {\n                    return <span key={p} className={cn({\n                        [classes.activePage]: currentPage === p\n                    })} onClick={() => {\n                        onPageClick(p)\n                    }}>{p}</span>\n                })\n        }\n        {portionCount > portionNumber && <button onClick={() => setPortionNumber(portionNumber + 1)}>PREV</button>}\n    </div>\n}\nexport default Paginator","import React from 'react'\nimport classes from './Friends.module.css'\nimport {NavLink} from 'react-router-dom'\nimport withPhoto from './../../assets/unnamed.jpg'\nimport {UserType} from '../../types/types'\n\ntype Props = {\n    user: UserType\n    followingInProgress: Array<number>\n    unfollow: (userId: number) => void\n    follow: (userId: number) => void\n}\n\nconst Friend = ({user, ...props}: Props) => {\n    return (\n        <div className={classes.wrapperUser}>\n            <div className={classes.wrapperAVA}>\n                <div className={classes.ava}>\n                    <NavLink to={`/profile/${user.id}`}>\n                        <img className={classes.img} src={user.photos.small || withPhoto}/>\n                    </NavLink>\n                    <div>{user.name}</div>\n                </div>\n                {\n                    user.followed\n                        ? <button\n                            className={classes.btnFriend}\n                            disabled={props.followingInProgress.some(id => id === user.id)}\n                            onClick={() => {\n                                props.unfollow(user.id)\n                            }}>UNFOLLOW</button>\n                        : <button\n                            className={classes.btnFriend}\n                            disabled={props.followingInProgress.some(id => id === user.id)}\n                            onClick={() => {\n                                props.follow(user.id)\n                            }}>FOLLOW</button>\n                }\n            </div>\n            <div className={classes.wrapperDiscription}>\n                <div className={classes.status}><b>Status:</b> {user.status}</div>\n            </div>\n        </div>\n    )\n}\nexport default Friend\n","import React from 'react'\nimport classes from './Friends.module.css'\nimport Paginator from '../Common/Paginator/Paginator'\nimport Friend from './Friend'\nimport Preloader from '../Common/Preloader/Preloader'\nimport {UserType} from '../../types/types'\n\ntype Props = {\n    totalUsers: number\n    pageSize: number\n    currentPage: number\n    isFetching: boolean\n    users: Array<UserType>\n    followingInProgress: Array<number>\n\n    onPageClick: (pageNum: number) => void\n    unfollow: (userId: number) => void\n    follow: (userId: number) => void\n}\n\nconst Friends: React.FC<Props> = ({totalUsers, pageSize, currentPage, onPageClick, isFetching, users, unfollow, follow, followingInProgress}) => {\n    return (\n        <div className={classes.wrapperUsers}>\n            <Paginator totalItems={totalUsers} pageSize={pageSize} currentPage={currentPage}\n                       onPageClick={onPageClick}/>\n            {isFetching ? <Preloader/> :\n                users.map(user => <Friend unfollow={unfollow}\n                                          follow={follow}\n                                          followingInProgress={followingInProgress}\n                                          user={user}\n                                          key={user.id}/>)\n            }\n        </div>\n    )\n}\nexport default Friends\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","import {AppState} from '../redux-store'\n\nexport const getUsersFromState = (state: AppState) => (state.friendsPage.users)\n\nexport const getPageSizeFromState = (state: AppState) => (state.friendsPage.pageSize)\n\nexport const getTotalUsersFromState = (state: AppState) => (state.friendsPage.totalUsers)\n\nexport const getCurrentPageFromState = (state: AppState) => (state.friendsPage.currentPage)\n\nexport const getIsFetchingFromState = (state: AppState) => (state.friendsPage.isFetching)\n\nexport const getFollowingInProgressFromState = (state: AppState) => (state.friendsPage.followingInProgress)\n","import React from 'react'\nimport {connect} from 'react-redux'\nimport Friends from './Friends'\nimport {follow, getUsers, unfollow} from '../../redux/friendsPage-reducer'\nimport {compose} from 'redux'\nimport {\n    getCurrentPageFromState,\n    getFollowingInProgressFromState,\n    getIsFetchingFromState,\n    getPageSizeFromState,\n    getTotalUsersFromState,\n    getUsersFromState\n} from '../../redux/selectors/users-selector'\nimport {UserType} from '../../types/types'\nimport {AppState} from '../../redux/redux-store'\n\ntype MapStateProps = {\n    users: Array<UserType>\n    totalUsers: number\n    pageSize: number\n    currentPage: number\n    isFetching: boolean\n    followingInProgress: Array<number>\n}\n\ntype MapDispatchProps = {\n    follow: (userId: number) => void\n    unfollow: (userId: number) => void\n    getUsers: (pageSize: number, currentPage: number) => void\n}\n\ntype Props = MapStateProps & MapDispatchProps\n\nclass FriendsContainer extends React.Component<Props> {\n\n    componentDidMount() {\n        this.props.getUsers(this.props.pageSize, this.props.currentPage)\n    }\n\n    onPageClick = (pageNum: number) => {\n        this.props.getUsers(this.props.pageSize, pageNum)\n    }\n\n    render() {\n        return (\n            <>\n                {<Friends\n                    totalUsers={this.props.totalUsers}\n                    pageSize={this.props.pageSize}\n                    users={this.props.users}\n                    currentPage={this.props.currentPage}\n                    unfollow={this.props.unfollow}\n                    follow={this.props.follow}\n                    isFetching={this.props.isFetching}\n                    onPageClick={this.onPageClick}\n                    followingInProgress={this.props.followingInProgress}/>}\n            </>\n        )\n    }\n}\n\nconst mapStateToProps = (state: AppState): MapStateProps => {\n    return {\n        users: getUsersFromState(state),\n        pageSize: getPageSizeFromState(state),\n        totalUsers: getTotalUsersFromState(state),\n        currentPage: getCurrentPageFromState(state),\n        isFetching: getIsFetchingFromState(state),\n        followingInProgress: getFollowingInProgressFromState(state)\n    }\n}\n\nexport default compose(\n    connect<MapStateProps, MapDispatchProps, null, AppState>(mapStateToProps, {getUsers, follow, unfollow})\n)(FriendsContainer)"],"sourceRoot":""}