(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],[,,,,,function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return r})),a.d(t,"d",(function(){return i})),a.d(t,"e",(function(){return c})),a.d(t,"c",(function(){return l})),a.d(t,"f",(function(){return u}));var n,r,s=a(61),o=a.n(s).a.create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"02b9c283-65ab-4aa6-9c25-cf1f7a717d1b"}});!function(e){e[e.success=0]="success",e[e.error=1]="error"}(n||(n={})),function(e){e[e.captcha=10]="captcha"}(r||(r={}));var i={getUsers:function(e,t){return o.get("users?count=".concat(e,"&page=").concat(t)).then((function(e){return e.data}))},unfollow:function(e){return o.delete("follow/".concat(e)).then((function(e){return e.data}))},follow:function(e){return o.post("follow/".concat(e)).then((function(e){return e.data}))}},c={getProfile:function(e){return o.get("profile/"+e).then((function(e){return e.data}))},getStatus:function(e){return o.get("profile/status/"+e).then((function(e){return e.data}))},updateStatus:function(e){return o.put("profile/status/",{status:e}).then((function(e){return e.data}))},savePhoto:function(e){var t=new FormData;return t.append("image",e),o.put("/profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){return e.data}))},saveProfile:function(e){return o.put("profile",e).then((function(e){return e.data}))}},l={setProfileData:function(){return o.get("auth/me").then((function(e){return e.data}))},login:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return o.post("auth/login",{email:e,password:t,rememberMe:a,captcha:n}).then((function(e){return e.data}))},logout:function(){return o.delete("auth/login").then((function(e){return e.data}))}},u={getCaptcha:function(){return o.get("security/get-captcha-url").then((function(e){return e.data}))}}},,,,,,,function(e,t,a){e.exports={profileInfo__picture:"ProfileInfo_profileInfo__picture__1_mKU",profileInfo__img:"ProfileInfo_profileInfo__img__2w7Nl",description__status:"ProfileInfo_description__status__2DgI2",description__about:"ProfileInfo_description__about__3N3Ib",profileData__btn:"ProfileInfo_profileData__btn__peONS",status:"ProfileInfo_status__jRZtB"}},function(e,t,a){e.exports={innerWrapperLogin:"Login_innerWrapperLogin__3PJ87",wrapperInput:"Login_wrapperInput__t_QCv",error:"Login_error__2FpeF",inputLogin:"Login_inputLogin__1k06d",buttonLogin:"Login_buttonLogin__Gmj0g",checkbox:"Login_checkbox__2IDaV",labelChack:"Login_labelChack__RlKFm",fakeChack:"Login_fakeChack__3YJVk",textLabel:"Login_textLabel__3Q1I5"}},,,,function(e,t,a){e.exports={header:"Header_header__2Jhy9",headerWrapper:"Header_headerWrapper__26sZt",header__logo:"Header_header__logo__35Eqq",header__title:"Header_header__title__2roqs",header__login:"Header_header__login__1SnHS",img:"Header_img__3eI3V",login__on:"Header_login__on__RYGkY",of__name:"Header_of__name__3ZOs3",of__button:"Header_of__button__W9WN2"}},,function(e,t,a){"use strict";var n=a(0),r=a.n(n),s=a(69),o=a.n(s);t.a=function(e){var t=e.forDisabled,a=e.name,n=e.handleClick;return r.a.createElement("button",{disabled:t,className:o.a.button,onClick:n},a)}},,function(e,t,a){e.exports={nav:"NavBar_nav__1o4Ob",nav__item:"NavBar_nav__item__37JS9",active:"NavBar_active__BzOaj"}},,,,function(e,t,a){e.exports={post:"Post_post__96kwD",post__content:"Post_post__content__2yLGG",post__img:"Post_post__img__2TxTe",content:"Post_content__2p24w",content__like:"Post_content__like__2N-Hu",img:"Post_img__3avUk"}},function(e,t,a){e.exports={dialog:"DialogsItem_dialog__2yZCg",dialog__avatar:"DialogsItem_dialog__avatar__qO3Rr",img:"DialogsItem_img__14iD6",dialog__content:"DialogsItem_dialog__content__1qNg2",lastMessage:"DialogsItem_lastMessage__16-pJ"}},,,,function(e,t,a){"use strict";var n=a(0),r=a.n(n),s=a(47),o=a.n(s);t.a=function(e){return r.a.createElement("div",{className:o.a.wrapperPreloader},r.a.createElement("div",{className:o.a.ldsSpinner},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null)))}},,,,function(e,t,a){e.exports={dialogs:"Dialogs_dialogs__3Q495",dialogs__items:"Dialogs_dialogs__items__2Ch0E",dialogs__messagesBox:"Dialogs_dialogs__messagesBox__14xFC",messages:"Dialogs_messages__3A4KQ",sendMessages:"Dialogs_sendMessages__2-GC1"}},,,function(e,t,a){e.exports={messageForm:"SendMessage_messageForm__37yRT",btnWrapper:"SendMessage_btnWrapper__2swWI",error:"SendMessage_error__1QN0q"}},function(e,t,a){e.exports={postForm:"Send_postForm__LCz3U",postForm__text:"Send_postForm__text__2Lwtb",postForm__btn:"Send_postForm__btn__1o_AQ",error:"Send_error__2QIsz"}},,,function(e,t,a){e.exports={profile:"Profile_profile__3V0Hs",profile__info:"Profile_profile__info__E6YGN",profile__wall:"Profile_profile__wall__3h3Kl"}},function(e,t,a){},,,,,function(e,t,a){e.exports={wrapperPreloader:"Preloader_wrapperPreloader__3jrse",ldsSpinner:"Preloader_ldsSpinner__SlKaU"}},,,,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/unnamed.11fdd540.jpg"},function(e,t,a){"use strict";a.d(t,"c",(function(){return h})),a.d(t,"d",(function(){return b})),a.d(t,"b",(function(){return O}));var n=a(1),r=a.n(n),s=a(4),o=a(6),i=a(2),c=a(5),l=function(e,t,a,n){return e.map((function(e){return e[t]===a?Object(i.a)(Object(i.a)({},e),n):e}))},u={users:[],totalUsers:1,pageSize:10,currentPage:1,isFetching:!1,followingInProgress:[]},m=function(e){return{type:"friends/FOLLOW",id:e}},d=function(e){return{type:"friends/UNFOLLOW",id:e}},p=function(e){return{type:"friends/SET_USERS",users:e}},f=function(e){return{type:"friends/SET_CURRENT_PAGE",currentPage:e}},_=function(e){return{type:"friends/SET_TOTAL_USERS_COUNT",totalUsers:e}},g=function(e){return{type:"friends/TOGGLE_IS_FETCHING",isFetching:e}},E=function(e,t){return{type:"friends/TOGGLE_IS_FOLLOWING_PROGRESS",isFetching:e,userId:t}},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return function(){var a=Object(s.a)(r.a.mark((function a(n){var s;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(g(!0)),n(f(t)),a.next=4,c.d.getUsers(e,t);case 4:s=a.sent,n(g(!1)),n(p(s.items)),n(_(s.totalCount));case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},v=function(){var e=Object(s.a)(r.a.mark((function e(t,a,n,s){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(E(!0,a)),e.next=3,n(a);case 3:e.sent.resultCode===c.b.success&&t(s(a)),t(E(!1,a));case 6:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}(),b=function(e){return function(){var t=Object(s.a)(r.a.mark((function t(a){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:v(a,e,c.d.unfollow.bind(c.d),d);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},O=function(e){return function(){var t=Object(s.a)(r.a.mark((function t(a){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:v(a,e,c.d.follow.bind(c.d),m);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"friends/FOLLOW":return Object(i.a)(Object(i.a)({},e),{},{users:l(e.users,"id",t.id,{followed:!0})});case"friends/UNFOLLOW":return Object(i.a)(Object(i.a)({},e),{},{users:l(e.users,"id",t.id,{followed:!1})});case"friends/SET_USERS":return Object(i.a)(Object(i.a)({},e),{},{users:t.users});case"friends/SET_CURRENT_PAGE":return Object(i.a)(Object(i.a)({},e),{},{currentPage:t.currentPage});case"friends/SET_TOTAL_USERS_COUNT":return Object(i.a)(Object(i.a)({},e),{},{totalUsers:t.totalUsers});case"friends/TOGGLE_IS_FETCHING":return Object(i.a)(Object(i.a)({},e),{},{isFetching:t.isFetching});case"friends/TOGGLE_IS_FOLLOWING_PROGRESS":return Object(i.a)(Object(i.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(o.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!==t.userId}))});default:return e}}},,,,,,function(e,t,a){e.exports={news:"News_news__3RXkG"}},function(e,t,a){e.exports=a.p+"static/media/dialog.df1438c8.jpg"},function(e,t,a){e.exports={message:"Message_message__2z8sn"}},function(e,t,a){e.exports={textarea:"Textarea_textarea__3UDSb"}},function(e,t,a){e.exports={button:"Button_button__1QDje"}},function(e,t,a){e.exports=a.p+"static/media/myGirlfriend.e99e760d.jpg"},function(e,t,a){e.exports=a.p+"static/media/logo.54f51bb4.png"},function(e,t,a){e.exports=a(102)},,function(e,t,a){},,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){},,,,,function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n);a(74),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var s=a(10),o=a(1),i=a.n(o),c=a(4),l=a(6),u=a(2),m=a(5),d={postsData:[{id:1,message:"i dont know",counterLike:2},{id:2,message:"what?",counterLike:1}],userProfile:null,userStatus:""},p=function(e){return{type:"profile/ADD-POST",newPost:e}},f=function(e){return{type:"profile/SET_USER_PROFILE",user:e}},_=function(e){return{type:"profile/SET_STATUS",status:e}},g=function(e){return{type:"profile/SET_PHOTO",photos:e}},E=function(e){return function(){var t=Object(c.a)(i.a.mark((function t(a){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.e.getProfile(e);case 2:n=t.sent,a(f(n));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"profile/ADD-POST":return Object(u.a)(Object(u.a)({},e),{},{postsData:[].concat(Object(l.a)(e.postsData),[{id:5,message:t.newPost,counterLike:0}])});case"profile/SET_USER_PROFILE":return Object(u.a)(Object(u.a)({},e),{},{userProfile:t.user});case"profile/SET_STATUS":return Object(u.a)(Object(u.a)({},e),{},{userStatus:t.status});case"profile/SET_PHOTO":return Object(u.a)(Object(u.a)({},e),{},{userProfile:Object(u.a)(Object(u.a)({},e.userProfile),{},{photos:t.photos})});default:return e}},v={},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v;arguments.length>1&&arguments[1];return e},O={messagesData:[{id:1,message:"AVADA KEDAVRA"},{id:2,message:"EXPILARMUS"},{id:3,message:"FLEPENDO"},{id:4,message:"VINGARDIUM LEVIOSSA"},{id:5,message:"bukla"}],dialogsData:[{id:1,name:"Albus"},{id:2,name:"Harry"},{id:3,name:"Germiona"}]},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"dialogs/ADD-MESSAGE":return Object(u.a)(Object(u.a)({},e),{},{messagesData:[].concat(Object(l.a)(e.messagesData),[{id:6,message:t.textMess}])});default:return e}},S=a(59),w={id:null,login:null,email:null,isAuth:!1,captchaUrl:null},j=function(e){return{type:"auth/SET_CAPTCHA",payload:{captchaUrl:e}}},P=function(e,t,a,n){return{type:"auth/SET_USER_DATE",payload:{id:e,login:t,email:a,isAuth:n}}},x=function(){return function(){var e=Object(c.a)(i.a.mark((function e(t){var a,n,r,s,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.c.setProfileData();case 2:(a=e.sent).resultCode===m.b.success&&(n=a.data,r=n.id,s=n.login,o=n.email,t(P(r,s,o,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},k=function(){return function(){var e=Object(c.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.f.getCaptcha();case 2:a=e.sent,t(j(a.url));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"auth/SET_USER_DATE":case"auth/SET_CAPTCHA":return Object(u.a)(Object(u.a)({},e),t.payload);default:return e}},L=a(62),I={initialized:!1},D=function(){return{type:"app/INITIALIZED_SUCCESS"}},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"app/INITIALIZED_SUCCESS":return Object(u.a)(Object(u.a)({},e),{},{initialized:!0});default:return e}},A=Object(s.c)({profilePage:h,dialogsPage:N,sideBar:b,friendsPage:S.a,auth:y,app:C}),F=Object(s.e)(A,Object(s.d)(Object(s.a)(L.a)));window.store=F;var T=F,U=a(39),M=a.n(U),R=a(27),G=a(28),W=a(32),H=a(31),J=(a(97),a(21)),q=a.n(J),z=a(9),B=function(){return r.a.createElement("nav",{className:q.a.nav},r.a.createElement("div",{className:q.a.nav__item},r.a.createElement(z.b,{to:"/profile",activeClassName:q.a.active},"Profile")),r.a.createElement("div",{className:q.a.nav__item},r.a.createElement(z.b,{to:"/news",activeClassName:q.a.active},"News")),r.a.createElement("div",{className:q.a.nav__item},r.a.createElement(z.b,{to:"/dialogs",activeClassName:q.a.active},"Dialogs")),r.a.createElement("div",{className:q.a.nav__item},r.a.createElement(z.b,{to:"/friends",activeClassName:q.a.active},"Friends")))},V=a(24),Q=a(65),K=a.n(Q),Y=function(){return r.a.createElement("div",{className:K.a.news},"News")},Z=a(34),X=a.n(Z),$=a(26),ee=a.n($),te=a(66),ae=a.n(te),ne=function(e){return r.a.createElement("div",{className:ee.a.dialog},r.a.createElement("div",{className:ee.a.dialog__avatar},r.a.createElement("img",{className:ee.a.img,src:ae.a})),r.a.createElement("div",{className:ee.a.dialog__content},r.a.createElement(z.b,{activeClassName:ee.a.active,to:"/dialogs/".concat(e.id)},e.name),r.a.createElement("div",{className:ee.a.lastMessage},"Last message")))},re=a(67),se=a.n(re),oe=function(e){return r.a.createElement("div",{className:se.a.message},e.message)},ie=a(23),ce=a(37),le=a.n(ce),ue=a(68),me=a.n(ue),de=function(e){var t=e.name,a=e.register,n=e.placeholder;return r.a.createElement("textarea",{className:me.a.textarea,name:t,placeholder:n,ref:a})},pe=a(19),fe=function(e){var t=e.onSubmit,a=Object(ie.a)(),n=a.register,s=a.handleSubmit,o=a.errors;return r.a.createElement("form",{onSubmit:s(t)},r.a.createElement("div",{className:le.a.messageForm},r.a.createElement("div",{className:le.a.text},r.a.createElement(de,{name:"newMessage",placeholder:"New message",register:n({required:"You can't send an empty message",maxLength:{value:30,message:"Exceeded the limit"}})})),r.a.createElement("div",{className:le.a.btnWrapper},o.newMessage&&r.a.createElement("span",{className:le.a.error},o.newMessage.message),r.a.createElement(pe.a,{name:"Send message"}))))},_e=function(e){return r.a.createElement(fe,{onSubmit:function(t,a){var n=t.newMessage;a.target.reset(),e.addMessage(n)}})},ge=function(e){var t=e.dialogsPage.dialogsData.map((function(e){return r.a.createElement(ne,{key:e.id,name:e.name,id:e.id})})),a=e.dialogsPage.messagesData.map((function(e){return r.a.createElement(oe,{key:e.id,message:e.message})}));return r.a.createElement("div",{className:X.a.dialogs},r.a.createElement("div",{className:X.a.dialogs__items},t),r.a.createElement("div",{className:X.a.dialogs__messagesBox},r.a.createElement("div",{className:X.a.messages},a),r.a.createElement("div",{className:X.a.sendMessages},r.a.createElement(_e,{addMessage:e.addMessage}))))},Ee=a(8),he=function(e){return{isAuth:e.auth.isAuth}},ve=function(e){return{type:"dialogs/ADD-MESSAGE",textMess:e}},be=Object(s.d)((function(e){return Object(Ee.b)(he)((function(t){return t.isAuth?r.a.createElement(e,t):r.a.createElement(V.a,{to:"/login"})}))}),Object(Ee.b)((function(e){return{dialogsPage:e.dialogsPage}}),{addMessage:ve}))(ge),Oe=a(41),Ne=a.n(Oe),Se=a(60),we=a(15),je=a(12),Pe=a.n(je),xe=a(30),ke=a(58),ye=a.n(ke),Le=function(e){var t=Object(n.useState)(!1),a=Object(we.a)(t,2),s=a[0],o=a[1],i=Object(n.useState)(e.status),c=Object(we.a)(i,2),l=c[0],u=c[1];Object(n.useEffect)((function(){u(e.status)}),[e.status]);return e.ifOwner?r.a.createElement(r.a.Fragment,null,!s&&r.a.createElement("div",null,r.a.createElement("span",{className:Pe.a.status,onDoubleClick:function(){o(!0)}},e.status||"---")),s&&r.a.createElement("div",null,r.a.createElement("input",{onChange:function(e){u(e.currentTarget.value)},autoFocus:!0,onBlur:function(){o(!1),e.updateStatusUser(l)},value:l}))):r.a.createElement("span",null,e.status||"---")},Ie=function(e){var t=e.profile,a=e.onSubmit,n=Object(ie.a)(),s=n.register,o=n.handleSubmit,i=n.errors;return r.a.createElement("form",{onSubmit:o(a)},r.a.createElement("div",null,r.a.createElement("b",null,"Full name")," ",r.a.createElement("input",{defaultValue:null===t||void 0===t?void 0:t.fullName,name:"fullName",type:"text",placeholder:"Full name",ref:s({maxLength:{value:20,message:"Exceeded the limit"}})}),i.fullName&&r.a.createElement("p",null,i.fullName.message)),r.a.createElement("div",null,r.a.createElement("b",null,"About me")," ",r.a.createElement("input",{defaultValue:null===t||void 0===t?void 0:t.aboutMe,name:"aboutMe",type:"text",placeholder:"Full name",ref:s({maxLength:{value:20,message:"Exceeded the limit"}})}),i.aboutMe&&r.a.createElement("p",null,i.aboutMe.message)),r.a.createElement("div",null,r.a.createElement("b",null,"Looking for a job")," ",r.a.createElement("input",{name:"lookingForAJob",type:"checkbox",ref:s({maxLength:{value:20,message:"Exceeded the limit"}})}),i.lookingForAJob&&r.a.createElement("p",null,i.lookingForAJob.message)),r.a.createElement("div",null,r.a.createElement("b",null,"Looking for a job description"),r.a.createElement("br",null)," ",r.a.createElement("textarea",{defaultValue:null===t||void 0===t?void 0:t.lookingForAJobDescription,name:"lookingForAJobDescription",placeholder:"Looking for a job description",ref:s({maxLength:{value:20,message:"Exceeded the limit"}})}),i.lookingForAJobDescription&&r.a.createElement("p",null,i.lookingForAJobDescription.message)),r.a.createElement("div",null,r.a.createElement("b",null,"Contacts:")," ",t&&Object.keys(t.contacts).map((function(e){return r.a.createElement("div",{key:e},r.a.createElement("b",null,e)," ",r.a.createElement("input",{name:"contacts."+e,placeholder:e,type:"text",ref:s({maxLength:{value:20,message:"Exceeded the limit"}})}))}))," "),r.a.createElement(pe.a,{name:"Save"}))},De=a(22),Ce=a.n(De),Ae=function(e){var t=e.profile,a=Object(Se.a)(e,["profile"]);return r.a.createElement("div",{className:Pe.a.profileData},r.a.createElement("div",null,r.a.createElement("b",null,"Full name")," ",t.fullName),r.a.createElement("div",null,r.a.createElement("b",null,"Looking for a job"),t.lookingForAJob&&t.lookingForAJob?" Yes":" No"),r.a.createElement("div",null,r.a.createElement("b",null,"Looking for a job description"),r.a.createElement("br",null),t.lookingForAJobDescription),r.a.createElement("div",null,r.a.createElement("b",null,"Contacts:")," ",Object.keys(t.contacts).map((function(e){return r.a.createElement(Fe,{title:e,value:t.contacts[e],key:e})}))," "),r.a.createElement("div",{className:Pe.a.profileData__btn},a.ifOwner&&r.a.createElement(pe.a,{name:"Edit",handleClick:a.editModeOn})))},Fe=function(e){var t=e.title,a=e.value;return r.a.createElement("div",{className:Pe.a.contact},r.a.createElement("b",null,t),a)},Te=function(e){var t=Object(n.useState)(!1),a=Object(we.a)(t,2),s=a[0],o=a[1];return e.userProfile?r.a.createElement("div",{className:Pe.a.profileInfo},r.a.createElement("div",{className:Pe.a.profileInfo__picture},r.a.createElement("img",{className:Pe.a.profileInfo__img,src:e.userProfile.photos.large||ye.a,alt:"ava"})),r.a.createElement("div",{className:Pe.a.profileInfo__inputFile},e.ifOwner&&r.a.createElement("input",{type:"file",onClick:function(t){t.target.files.length&&e.savePhoto(t.target.files[0])}})),r.a.createElement("div",{className:Ce()(Pe.a.profileInfo__description,Pe.a.description)},r.a.createElement("div",{className:Pe.a.description__status},r.a.createElement("b",null,"Status: "),r.a.createElement(Le,{ifOwner:e.ifOwner,status:e.status,updateStatusUser:e.updateStatusUser})),r.a.createElement("div",{className:Pe.a.description__about},s?r.a.createElement(Ie,{onSubmit:function(t){e.saveProfile(t).then((function(){o(!1)}))},profile:e.userProfile}):r.a.createElement(Ae,{editModeOn:function(){o(!0)},profile:e.userProfile,ifOwner:e.ifOwner})))):r.a.createElement(xe.a,null)},Ue=a(42),Me=a.n(Ue),Re=a(25),Ge=a.n(Re),We=a(70),He=a.n(We),Je=r.a.memo((function(e){return r.a.createElement("div",{className:Ge.a.post},r.a.createElement("div",{className:Ge.a.post__img},r.a.createElement("img",{className:Ge.a.img,src:He.a,alt:"my girlfriend"})),r.a.createElement("div",{className:Ce()(Ge.a.post__content,Ge.a.content)},r.a.createElement("div",{className:Ge.a.content__message},e.message),r.a.createElement("div",{className:Ge.a.content__like},"like ",e.counterLike)))})),qe=a(38),ze=a.n(qe),Be=function(e){var t=e.onSubmit,a=Object(ie.a)(),n=a.register,s=a.handleSubmit,o=a.errors;return r.a.createElement("form",{onSubmit:s(t)},r.a.createElement("div",{className:ze.a.postForm},r.a.createElement("div",{className:ze.a.postForm__text},r.a.createElement(de,{name:"messageText",placeholder:"New post",register:n({required:"This fields is required",maxLength:{value:20,message:"Exceeded the limit"}})})),r.a.createElement("div",{className:ze.a.postForm__btn},o.messageText&&r.a.createElement("span",{className:ze.a.error},o.messageText.message),r.a.createElement(pe.a,{name:"Add post"}))))},Ve=function(e){return r.a.createElement(Be,{onSubmit:function(t,a){a.target.reset(),e.addPost(t.messageText)}})},Qe=function(e){var t=e.postsData,a=e.addPost,n=t.map((function(e){return r.a.createElement(Je,{counterLike:e.counterLike,message:e.message,key:e.id})}));return r.a.createElement("div",{className:Me.a.posts},r.a.createElement("div",{className:Me.a.posts__postForm},r.a.createElement(Ve,{addPost:a})),r.a.createElement("div",{className:Me.a.posts__element},n))},Ke=p,Ye=Object(Ee.b)((function(e){return{postsData:e.profilePage.postsData}}),{addPost:Ke})(Qe),Ze=function(e){return e.userProfile?r.a.createElement("div",{className:Ne.a.profile},r.a.createElement("div",{className:Ne.a.profile__info},r.a.createElement(Te,{saveProfile:e.saveProfile,ifOwner:e.ifOwner,savePhoto:e.savePhoto,userProfile:e.userProfile,status:e.status,updateStatusUser:e.updateStatusUser})),r.a.createElement("div",{className:Ne.a.profile__wall},r.a.createElement(Ye,null))):r.a.createElement(xe.a,null)},Xe=function(e){Object(W.a)(a,e);var t=Object(H.a)(a);function a(){return Object(R.a)(this,a),t.apply(this,arguments)}return Object(G.a)(a,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.userId)||this.props.history.push("/login"),this.props.getUser(e),this.props.getStatusUser(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return r.a.createElement(Ze,Object.assign({},this.props,{ifOwner:!this.props.match.params.userId,updateStatusUser:this.props.updateStatusUser,userProfile:this.props.userProfile,savePhoto:this.props.savePhoto,saveProfile:this.props.saveProfile,status:this.props.status}))}}]),a}(r.a.Component),$e=Object(s.d)(V.g,Object(Ee.b)((function(e){return{userProfile:e.profilePage.userProfile,status:e.profilePage.userStatus,userId:e.auth.id,isAuth:e.auth.isAuth,auth:e.auth}}),{getUser:E,getStatusUser:function(e){return function(){var t=Object(c.a)(i.a.mark((function t(a){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.e.getStatus(e);case 2:n=t.sent,a(_(n));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateStatusUser:function(e){return function(){var t=Object(c.a)(i.a.mark((function t(a){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.e.updateStatus(e);case 2:t.sent.resultCode===m.b.success&&a(_(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},savePhoto:function(e){return function(){var t=Object(c.a)(i.a.mark((function t(a){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.e.savePhoto(e);case 2:(n=t.sent).resultCode===m.b.success&&a(g(n.data.photos));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},saveProfile:function(e){return function(){var t=Object(c.a)(i.a.mark((function t(a,n){var r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n().auth.id,t.next=3,m.e.saveProfile(e);case 3:t.sent.resultCode===m.b.success&&r&&a(E(r));case 5:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()}}))(Xe),et=a(17),tt=a.n(et),at=a(71),nt=a.n(at),rt=function(e){return r.a.createElement("header",{className:Ce()(tt.a.header,"wrapper")},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:tt.a.headerWrapper},r.a.createElement("div",{className:tt.a.header__logo},r.a.createElement("img",{className:tt.a.img,src:nt.a,alt:"logo"})),r.a.createElement("div",{className:tt.a.header__title},r.a.createElement("span",null,"Vnetakta")),r.a.createElement("div",{className:Ce()(tt.a.header__login,tt.a.login)},e.auth.isAuth?r.a.createElement("div",{className:Ce()(tt.a.login__of,tt.a.of)},r.a.createElement("span",{className:tt.a.of__name},e.auth.login),r.a.createElement("div",{className:tt.a.of__button},r.a.createElement(pe.a,{name:"Log uot",handleClick:e.logout}))):r.a.createElement("div",{className:tt.a.login__on},r.a.createElement(z.b,{to:"/login"},"Login"))))))},st=function(e){Object(W.a)(a,e);var t=Object(H.a)(a);function a(){return Object(R.a)(this,a),t.apply(this,arguments)}return Object(G.a)(a,[{key:"render",value:function(){return r.a.createElement(rt,Object.assign({logout:this.props.logoutUser},this.props))}}]),a}(r.a.Component),ot=Object(s.d)(Object(Ee.b)((function(e){return{auth:e.auth}}),{logoutUser:function(){return function(){var e=Object(c.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.c.logout();case 2:e.sent.resultCode===m.b.success&&t(P(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}))(st),it=a(13),ct=a.n(it),lt=function(e){var t=e.captchaUrl,a=e.onSubmit,n=Object(ie.a)(),s=n.register,o=n.handleSubmit,i=n.errors;return r.a.createElement("form",{onSubmit:o(a)},r.a.createElement("div",{className:ct.a.wrapperInput},r.a.createElement("input",{className:ct.a.inputLogin,name:"email",type:"email",placeholder:"email",ref:s({required:"This fields is required"})}),i.email&&r.a.createElement("div",{className:ct.a.error},i.email.message)),r.a.createElement("div",{className:ct.a.wrapperInput},r.a.createElement("input",{className:ct.a.inputLogin,name:"password",type:"password",placeholder:"password",ref:s({required:"This fields is required"})}),i.password&&r.a.createElement("div",{className:ct.a.error},i.password.message)),r.a.createElement("div",null,r.a.createElement("label",{className:ct.a.labelChack,htmlFor:"loginCheck"},r.a.createElement("input",{id:"loginCheck",name:"rememberMe",className:ct.a.checkbox,type:"checkbox",ref:s}),r.a.createElement("span",{className:ct.a.fakeCheck}),r.a.createElement("span",{className:ct.a.textLabel},"Remember me"))),t&&r.a.createElement(r.a.Fragment,null," ",r.a.createElement("img",{src:t}),r.a.createElement("br",null)," ",r.a.createElement("input",{name:"captcha",placeholder:"captcha",ref:s})),r.a.createElement("div",null,r.a.createElement("button",{className:ct.a.buttonLogin},"login")))},ut=Object(Ee.b)((function(e){return{isAuth:e.auth.isAuth,captchaUrl:e.auth.captchaUrl}}),{loginUser:function(e,t,a,n){return function(){var r=Object(c.a)(i.a.mark((function r(s){var o;return i.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,m.c.login(e,t,a,n);case 2:(o=r.sent).resultCode===m.b.success?s(x()):o.resultCode===m.a.captcha&&s(k());case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}})((function(e){return e.isAuth?r.a.createElement(V.a,{to:"/profile"}):r.a.createElement("div",{className:ct.a.outerWrapperLogin},r.a.createElement("div",{className:ct.a.innerWrapperLogin},r.a.createElement("div",null,r.a.createElement("h3",null,"Login")),r.a.createElement("div",null,r.a.createElement(lt,{captchaUrl:e.captchaUrl,onSubmit:function(t){var a=t.email,n=t.password,r=t.rememberMe,s=t.captcha;e.loginUser(a,n,r,s)}}))))})),mt=r.a.lazy((function(){return a.e(3).then(a.bind(null,105))})),dt=function(e){Object(W.a)(a,e);var t=Object(H.a)(a);function a(){return Object(R.a)(this,a),t.apply(this,arguments)}return Object(G.a)(a,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?r.a.createElement(r.a.Fragment,null,r.a.createElement(ot,null),r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"app"},r.a.createElement("div",{className:"app__nav"},r.a.createElement(B,null)),r.a.createElement("div",{className:"app__content"},r.a.createElement(n.Suspense,{fallback:r.a.createElement("div",null,"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...")},r.a.createElement(V.d,null,r.a.createElement(V.b,{path:"/Profile/:userId?",render:function(){return r.a.createElement($e,null)}}),r.a.createElement(V.b,{path:"/Dialogs",render:function(){return r.a.createElement(be,null)}}),r.a.createElement(V.b,{path:"/News",render:function(){return r.a.createElement(Y,null)}}),r.a.createElement(V.b,{path:"/Friends",render:function(){return r.a.createElement(mt,null)}}),r.a.createElement(V.b,{path:"/Login",render:function(){return r.a.createElement(ut,null)}}),r.a.createElement(V.a,{form:"/",to:"/profile"})))))))):r.a.createElement(xe.a,null)}}]),a}(r.a.Component),pt=Object(s.d)(Object(Ee.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(){var e=Object(c.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(x());case 2:t(D());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),V.g)(dt);M.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(z.a,null,r.a.createElement(Ee.a,{store:T},r.a.createElement(pt,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[72,1,2]]]);
//# sourceMappingURL=main.11440335.chunk.js.map