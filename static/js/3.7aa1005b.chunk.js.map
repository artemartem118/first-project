{"version":3,"sources":["components/Friends/Friends.module.css","components/Common/Paginator/Paginator.module.css","../node_modules/classnames/index.js","components/Common/Paginator/Paginator.js","components/Friends/Friend.jsx","components/Friends/Friends.jsx","redux/selectors/users-selector.js","components/Friends/FriendsContainer.jsx"],"names":["module","exports","hasOwn","hasOwnProperty","classNames","classes","i","arguments","length","arg","argType","push","Array","isArray","inner","apply","key","call","join","default","Paginator","portionSize","props","pageCount","Math","ceil","totalUsers","pageSize","pages","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","className","wrapperPaginator","onClick","filter","p","map","cn","activePage","currentPage","onPageClick","Friend","user","wrapperUser","wrapperAVA","ava","to","id","img","src","photos","small","withPhoto","name","followed","disabled","followingInProgress","some","unfollow","follow","wrapperDiscription","status","Friends","wrapperUsers","isFetching","Preloader","users","getUsersFromState","state","friendsPage","getPageSizeFromState","getTotalUsersFromState","getCurrentPageFromState","getIsFetchingFromState","getFollowingInProgressFromState","FriendsContainer","pageNum","getUsers","this","React","Component","compose","connect"],"mappings":"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","file":"static/js/3.7aa1005b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapperUsers\":\"Friends_wrapperUsers__2rzZG\",\"wrapperUser\":\"Friends_wrapperUser__1ihSv\",\"wrapperAVA\":\"Friends_wrapperAVA__2eVvL\",\"wrapperDiscription\":\"Friends_wrapperDiscription__2Mizb\",\"img\":\"Friends_img__2YAT_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapperPaginator\":\"Paginator_wrapperPaginator__1NQ1L\",\"activePage\":\"Paginator_activePage__143AP\"};","/*!\n  Copyright (c) 2017 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg) && arg.length) {\n\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\tif (inner) {\n\t\t\t\t\tclasses.push(inner);\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","import classes from \"./Paginator.module.css\";\r\nimport React, {useState} from \"react\";\r\nimport cn from \"classnames\"\r\n\r\nconst Paginator = ({portionSize = 5, ...props}) => {\r\n\r\n    let pageCount = Math.ceil(props.totalUsers / props.pageSize);\r\n    const pages = [];\r\n    for (let i = 1; i <= pageCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    const portionCount = Math.ceil(pageCount/ portionSize);\r\n    const [portionNumber, setPortionNumber] = useState(1);\r\n    const leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n    const rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n\r\n\r\n    return <div className={classes.wrapperPaginator}>\r\n        {portionNumber > 1 && <button onClick={ () => setPortionNumber(portionNumber - 1) } >PREV</button>}\r\n        {\r\n            pages\r\n                .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n                .map(p => {\r\n                return <span key={p} className={cn(  {\r\n                    [classes.activePage]:props.currentPage === p\r\n                })} onClick={() => {\r\n                    props.onPageClick(p)\r\n                }}>{p}</span>\r\n            })\r\n        }\r\n        {portionCount > portionNumber && <button onClick={ () => setPortionNumber(portionNumber + 1) } >PREV</button>}\r\n    </div>\r\n}\r\nexport default Paginator;","import React from \"react\";\r\nimport classes from './Friends.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\nimport withPhoto from \"./../../assets/unnamed.jpg\"\r\n\r\n\r\nconst Friend = ({user, ...props}) => {\r\n    return (\r\n        <div className={classes.wrapperUser}>\r\n            <div className={classes.wrapperAVA}>\r\n                <div className={classes.ava}>\r\n                    <NavLink to={`/profile/${user.id}`}>\r\n                        <img className={classes.img} src={user.photos.small || withPhoto }/>\r\n                    </NavLink>\r\n                    <div>{user.name}</div>\r\n                </div>\r\n                {\r\n                    user.followed\r\n                        ? <button\r\n                            disabled={props.followingInProgress.some(id => id === user.id)}\r\n                            onClick={() => {\r\n                                props.unfollow(user.id)\r\n                            }}>UNFOLLOW</button>\r\n                        : <button\r\n                            disabled={props.followingInProgress.some(id => id === user.id)}\r\n                            onClick={() => {\r\n                                props.follow(user.id)\r\n                            }}>FOLLOW</button>\r\n                }\r\n            </div>\r\n            <div className={classes.wrapperDiscription}>\r\n                <div className={classes.status}><b>Status:</b> {user.status}</div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default Friend;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import React from \"react\";\r\nimport classes from './Friends.module.css';\r\nimport Paginator from \"../Common/Paginator/Paginator\";\r\nimport Friend from \"./Friend\";\r\nimport Preloader from \"../Common/Preloader/Preloader\";\r\n\r\n\r\nconst Friends = (props) => {\r\n    return (\r\n        <div className={classes.wrapperUsers}>\r\n            <Paginator totalUsers={props.totalUsers} pageSize={props.pageSize} currentPage={props.currentPage}\r\n                       onPageClick={props.onPageClick}/>\r\n            {props.isFetching ? <Preloader/> :\r\n                props.users.map(user => <Friend unfollow={props.unfollow}\r\n                                                follow={props.follow}\r\n                                                followingInProgress={props.followingInProgress}\r\n                                                user={user}\r\n                                                key={user.id}/>)\r\n            }\r\n        </div>\r\n    );\r\n}\r\nexport default Friends;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","export const getUsersFromState = state => (state.friendsPage.users)\r\nexport const getPageSizeFromState = state => (state.friendsPage.pageSize)\r\nexport const getTotalUsersFromState = state => (state.friendsPage.totalUsers)\r\nexport const getCurrentPageFromState = state => (state.friendsPage.currentPage)\r\nexport const getIsFetchingFromState = state => (state.friendsPage.isFetching)\r\nexport const getFollowingInProgressFromState = state => (state.friendsPage.followingInProgress)","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport Friends from \"./Friends\";\r\nimport {\r\n    follow, getUsers,\r\n    unfollow\r\n} from \"../../redux/friendsPage-reducer\";\r\nimport {compose} from \"redux\";\r\nimport {\r\n    getCurrentPageFromState, getFollowingInProgressFromState, getIsFetchingFromState,\r\n    getPageSizeFromState,\r\n    getTotalUsersFromState,\r\n    getUsersFromState\r\n} from \"../../redux/selectors/users-selector\";\r\n\r\nclass FriendsContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n        this.props.getUsers(this.props.pageSize);\r\n    }\r\n\r\n    onPageClick = (pageNum) => {\r\n        this.props.getUsers(this.props.pageSize, pageNum);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                { <Friends\r\n                    totalUsers={this.props.totalUsers}\r\n                    pageSize={this.props.pageSize}\r\n                    users={this.props.users}\r\n                    currentPage={this.props.currentPage}\r\n                    unfollow={this.props.unfollow}\r\n                    follow={this.props.follow}\r\n                    isFetching={this.props.isFetching}\r\n                    onPageClick={this.onPageClick}\r\n                    followingInProgress={this.props.followingInProgress}/>}\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsersFromState(state),\r\n        pageSize: getPageSizeFromState(state),\r\n        totalUsers: getTotalUsersFromState(state),\r\n        currentPage: getCurrentPageFromState(state),\r\n        isFetching: getIsFetchingFromState(state),\r\n        followingInProgress: getFollowingInProgressFromState(state)\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, { getUsers, follow, unfollow })\r\n)(FriendsContainer);"],"sourceRoot":""}