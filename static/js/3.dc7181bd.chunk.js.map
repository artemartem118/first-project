{"version":3,"sources":["components/Friends/Friends.module.css","components/Common/Paginator/Paginator.module.css","components/Common/Paginator/Paginator.js","components/Friends/Friend.jsx","components/Friends/Friends.jsx","redux/selectors/users-selector.js","components/Friends/FriendsContainer.jsx"],"names":["module","exports","Paginator","portionSize","props","pageCount","Math","ceil","totalUsers","pageSize","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","className","classes","wrapperPaginator","onClick","filter","p","map","currentPage","activePage","onPageClick","Friend","user","wrapperUser","wrapperAVA","ava","to","id","img","src","photos","small","withPhoto","name","followed","disabled","followingInProgress","some","unfollow","follow","wrapperDiscription","country","city","status","Friends","wrapperUsers","isFetching","Preloader","users","key","getUsersFromState","state","friendsPage","getPageSizeFromState","getTotalUsersFromState","getCurrentPageFromState","getIsFetchingFromState","getFollowingInProgressFromState","FriendsContainer","pageNum","getUsers","this","React","Component","compose","connect"],"mappings":"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","file":"static/js/3.dc7181bd.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapperUsers\":\"Friends_wrapperUsers__2rzZG\",\"wrapperUser\":\"Friends_wrapperUser__1ihSv\",\"wrapperAVA\":\"Friends_wrapperAVA__2eVvL\",\"wrapperDiscription\":\"Friends_wrapperDiscription__2Mizb\",\"img\":\"Friends_img__2YAT_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapperPaginator\":\"Paginator_wrapperPaginator__1NQ1L\",\"activePage\":\"Paginator_activePage__143AP\"};","import classes from \"./Paginator.module.css\";\r\nimport React, {useState} from \"react\";\r\n\r\nconst Paginator = ({portionSize = 5, ...props}) => {\r\n\r\n    let pageCount = Math.ceil(props.totalUsers / props.pageSize);\r\n    const pages = [];\r\n    for (let i = 1; i <= pageCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    const portionCount = Math.ceil(pageCount/ portionSize);\r\n    const [portionNumber, setPortionNumber] = useState(1);\r\n    const leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n    const rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n\r\n\r\n    return <div className={classes.wrapperPaginator}>\r\n        {portionNumber > 1 && <button onClick={ () => setPortionNumber(portionNumber - 1) } >PREV</button>}\r\n        {\r\n            pages\r\n                .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n                .map(p => {\r\n                return <span className={props.currentPage === p && classes.activePage} onClick={() => {\r\n                    props.onPageClick(p)\r\n                }}>{p}</span>\r\n            })\r\n        }\r\n        {portionCount > portionNumber && <button onClick={ () => setPortionNumber(portionNumber + 1) } >PREV</button>}\r\n    </div>\r\n}\r\nexport default Paginator;","import React from \"react\";\r\nimport classes from './Friends.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\nimport withPhoto from \"./../../assets/unnamed.jpg\"\r\n\r\n\r\nconst Friend = ({user, ...props}) => {\r\n    return (\r\n        <div className={classes.wrapperUser}>\r\n            <div className={classes.wrapperAVA}>\r\n                <div className={classes.ava}>\r\n                    <NavLink to={`/profile/${user.id}`}>\r\n                        <img className={classes.img} src={user.photos.small || withPhoto }/>\r\n                    </NavLink>\r\n                    <div>{user.name}</div>\r\n                </div>\r\n                {\r\n                    user.followed\r\n                        ? <button\r\n                            disabled={props.followingInProgress.some(id => id === user.id)}\r\n                            onClick={() => {\r\n                                props.unfollow(user.id)\r\n                            }}>UNFOLLOW</button>\r\n                        : <button\r\n                            disabled={props.followingInProgress.some(id => id === user.id)}\r\n                            onClick={() => {\r\n                                props.follow(user.id)\r\n                            }}>FOLLOW</button>\r\n                }\r\n            </div>\r\n            <div className={classes.wrapperDiscription}>\r\n                <div className={classes.country}>{'user.localization.country'}</div>\r\n                <div className={classes.city}>{'user.localization.city'}</div>\r\n                <div className={classes.status}>{user.status}</div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default Friend;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import React from \"react\";\r\nimport classes from './Friends.module.css';\r\nimport Paginator from \"../Common/Paginator/Paginator\";\r\nimport Friend from \"./Friend\";\r\nimport Preloader from \"../Common/Preloader/Preloader\";\r\n\r\n\r\nconst Friends = (props) => {\r\n    return (\r\n        <div className={classes.wrapperUsers}>\r\n            <Paginator totalUsers={props.totalUsers} pageSize={props.pageSize} currentPage={props.currentPage}\r\n                       onPageClick={props.onPageClick}/>\r\n            {props.isFetching ? <Preloader/> :\r\n                props.users.map(user => <Friend unfollow={props.unfollow}\r\n                                                follow={props.follow}\r\n                                                followingInProgress={props.followingInProgress}\r\n                                                user={user}\r\n                                                key={user.id}/>)\r\n            }\r\n        </div>\r\n    );\r\n}\r\nexport default Friends;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","export const getUsersFromState = state => (state.friendsPage.users)\r\nexport const getPageSizeFromState = state => (state.friendsPage.pageSize)\r\nexport const getTotalUsersFromState = state => (state.friendsPage.totalUsers)\r\nexport const getCurrentPageFromState = state => (state.friendsPage.currentPage)\r\nexport const getIsFetchingFromState = state => (state.friendsPage.isFetching)\r\nexport const getFollowingInProgressFromState = state => (state.friendsPage.followingInProgress)","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport Friends from \"./Friends\";\r\nimport {\r\n    follow, getUsers,\r\n    unfollow\r\n} from \"../../redux/friendsPage-reducer\";\r\nimport {compose} from \"redux\";\r\nimport {\r\n    getCurrentPageFromState, getFollowingInProgressFromState, getIsFetchingFromState,\r\n    getPageSizeFromState,\r\n    getTotalUsersFromState,\r\n    getUsersFromState\r\n} from \"../../redux/selectors/users-selector\";\r\n\r\nclass FriendsContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n        this.props.getUsers(this.props.pageSize);\r\n    }\r\n\r\n    onPageClick = (pageNum) => {\r\n        this.props.getUsers(this.props.pageSize, pageNum);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                { <Friends\r\n                    totalUsers={this.props.totalUsers}\r\n                    pageSize={this.props.pageSize}\r\n                    users={this.props.users}\r\n                    currentPage={this.props.currentPage}\r\n                    unfollow={this.props.unfollow}\r\n                    follow={this.props.follow}\r\n                    isFetching={this.props.isFetching}\r\n                    onPageClick={this.onPageClick}\r\n                    followingInProgress={this.props.followingInProgress}/>}\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsersFromState(state),\r\n        pageSize: getPageSizeFromState(state),\r\n        totalUsers: getTotalUsersFromState(state),\r\n        currentPage: getCurrentPageFromState(state),\r\n        isFetching: getIsFetchingFromState(state),\r\n        followingInProgress: getFollowingInProgressFromState(state)\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, { getUsers, follow, unfollow })\r\n)(FriendsContainer);"],"sourceRoot":""}